<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="">
		<link rel="icon" type="image/png" href="/assets/favicon.png" />
		<link rel="stylesheet" href="css/doc.css" />
		<title>stylesheets</title>
	</head>
	<body>
		<script src="js/doc.js" charset="utf-8" async></script>
		<div class="container">
			<div class="row">
				<div class="col-md-3 nav">

					<div class="logo">
	<ul class="cube-inner">
		<li class="front"><li class="back"><li class="right"><li class="left"><li class="top"><li class="bottom">
	</ul>
	<ul class="cube">
		<li class="front"><li class="back"><li class="right"><li class="left"><li class="top"><li class="bottom">
		<li class="floor">
	</ul>
</div>
<div class="name">webpack</div>
<div class="tagline">MODULE BUNDLER</div>


					<div class="sidebar">
						<ul><li><a href=".">Home</a></li></ul>
						<ul>
<li>入门<ul>
<li><a href="motivation.html">动机</a></li>
<li><a href="what-is-webpack.html">什么是的WebPack？</a></li>
<li><a href="installation.html">安装</a></li>
<li><a href="usage.html">用法</a></li>
<li>Require Modules</li>
<li>Vendor Modules</li>
<li><a href="using-loaders.html">使用加载器</a></li>
<li><a href="using-plugins.html">使用插件</a></li>
<li><a href="dev-tools.html">开发工具</a></li>
<li><a href="troubleshooting.html">故障排除</a></li>
</ul>
</li>
<li>教程与示例<ul>
<li><a href="http://webpack.github.io/docs/tutorials/getting-started/">入门</a></li>
<li><a href="list-of-tutorials.html">教程列表</a></li>
<li><a href="examples.html">示例</a></li>
</ul>
</li>
<li>指南<ul>
<li><a href="commonjs.html">CommonJs</a></li>
<li><a href="amd.html">AMD</a></li>
<li><a href="webpack-for-browserify-users.html">Browserify 用户</a></li>
<li><a href="code-splitting.html">代码分割</a></li>
<li><a href="stylesheets.html">样式表</a></li>
<li><a href="optimization.html">优化</a></li>
<li><a href="long-term-caching.html">长期缓存</a></li>
<li><a href="how-to-write-a-loader.html">如何写一个加载器</a></li>
<li>如何写一个插件(How to write a plugin)</li>
<li><a href="multiple-entry-points.html">多个入口点</a>(Multiple entry points)</li>
<li><a href="library-and-externals.html">库和扩展</a>(Library and externals)</li>
<li><a href="shimming-modules.html">垫片模块</a>(Shimming modules)</li>
<li><a href="testing.html">测试</a></li>
<li><a href="build-performance.html">构建性能</a></li>
<li><a href="hot-module-replacement-with-webpack.html">模块热替换</a>(Hot Module Replacement with webpack)</li>
<li><a href="comparison.html">比较</a></li>
</ul>
</li>
<li>webpack 相关<ul>
<li><a href="usage-with-grunt.html">使用 Grunt</a></li>
<li><a href="usage-with-gulp.html">使用 Gulp</a></li>
<li><a href="usage-with-bower.html">使用 Bower</a></li>
<li><a href="usage-with-karma.html">使用 Karma</a></li>
</ul>
</li>
<li>列表<ul>
<li><a href="loader-conventions.html">加载器约定</a></li>
<li><a href="list-of-loaders.html">加载器列表</a></li>
<li><a href="list-of-plugins.html">插件列表</a></li>
<li><a href="list-of-tutorials.html">教程列表</a></li>
</ul>
</li>
<li>API<ul>
<li><a href="configuration.html">构造</a></li>
<li><a href="cli.html">CLI</a></li>
<li><a href="node.js-api.html">Node.js API</a></li>
<li><a href="api-in-modules.html">API in modules</a></li>
<li><a href="loaders.html">Loaders</a></li>
<li><a href="plugins.html">Plugins</a></li>
<li><a href="context.html">Context</a></li>
<li><a href="resolving.html">Resolving</a></li>
<li><a href="hot-module-replacement.html">Hot Module Replacement</a></li>
<li>开发工具<ul>
<li><a href="webpack-dev-server.html">webpack-dev-server</a></li>
<li><a href="webpack-dev-middleware.html">webpack-dev-middleware</a></li>
</ul>
</li>
</ul>
</li>
<li>Development<ul>
<li><a href="changelog.html">更新日志</a></li>
<li><a href="roadmap.html">路线图</a></li>
<li><a href="ideas.html">思路</a></li>
<li>贡献 (Contributing)</li>
</ul>
</li>
</ul>

					</div>
				</div>

				<div class="col-md-9">

					<div class="pull-right">
						<a href="https://github.com/XUEJS/webpack-docs/wiki/stylesheets/_edit" id="wikieditlink">Edit</a>
					</div>
					<div class="row">
						<div class="col-md-12 page-header">
							<h1 id="wikititle">stylesheets</h1>
						</div>
					</div>

					<div class="row">
						<div id="wiki" class="col-md-12">
							<div class="contents"><ul><li><a href="#embedded-stylesheets">embedded stylesheets</a><ul><li><a href="#installation">installation</a></li><li><a href="#configuration">configuration</a></li><li><a href="#using-css">using css</a></li></ul></li><li><a href="#separate-css-bundle">separate css bundle</a><ul><li><a href="#plugin-installation">plugin installation</a></li><li><a href="#general">general</a></li><li><a href="#styles-from-initial-chunks-into-separate-css-output-file">styles from initial chunks into separate css output file</a></li><li><a href="#all-styles-in-separate-css-output-file">all styles in separate css output file</a></li><li><a href="#styles-in-commons-chunk">styles in commons chunk</a></li></ul></li></ul></div><h1 id="embedded-stylesheets"><a class="anchor" href="#embedded-stylesheets">&rarr;</a>embedded stylesheets</h1>
<p>Through using the <code>style-loader</code> and the <code>css-loader</code> it’s possible to embed stylesheets into a webpack javascript bundle. This way you can modularize your stylesheets with your other modules. This way stylesheets are as easy as <code>require(<span class="string">"./stylesheet.css"</span>)</code>.</p>
<h2 id="installation"><a class="anchor" href="#installation">&rarr;</a>installation</h2>
<p>Install the loaders from npm.</p>
<pre><code>npm install style-loader css-loader --save-dev</code></pre><h2 id="configuration"><a class="anchor" href="#configuration">&rarr;</a>configuration</h2>
<p>Here is a configuration example that enables <code>require()</code> css:</p>
<pre><code>{
    <span class="comment">// ...</span>
    module: {
        loaders: [
            { test: <span class="regexp">/\.css$/</span>, loader: <span class="string">"style-loader!css-loader"</span> }
        ]
    }
}</code></pre><blockquote>
<p>For compile-to-css languages see the according loaders for configuration examples. You can pipe them…</p>
</blockquote>
<p>Keep in mind that it’s difficult to manage the execution order of modules, so design your stylesheets so that order doesn’t matter. (But you can rely on the order in one css file.)</p>
<h2 id="using-css"><a class="anchor" href="#using-css">&rarr;</a>using css</h2>
<pre><code><span class="comment">// in your modules just require the stylesheet</span>
<span class="comment">// This has the side effect that a &lt;style&gt;-tag is added to the DOM.</span>
require(<span class="string">"./stylesheet.css"</span>);</code></pre><h1 id="separate-css-bundle"><a class="anchor" href="#separate-css-bundle">&rarr;</a>separate css bundle</h1>
<p>In combination with the <a href="https://github.com/webpack/extract-text-webpack-plugin">extract-text-webpack-plugin</a> it’s possible to generate a native css output file.</p>
<p>With Code Splitting we can use two different modes:</p>
<ul>
<li>Create one css file per initial chunk (see <a href="code-splitting.html">Code Splitting</a>) and embed stylesheets into additional chunks. (recommended)</li>
<li>Create one css file per initial chunk which also contains styles from additional chunks.</li>
</ul>
<p>The first mode is recommended because it’s optimal in regards to initial page loading time. In small apps with multiple entry points the second mode could be better because of HTTP request overheads and caching.</p>
<h2 id="plugin-installation"><a class="anchor" href="#plugin-installation">&rarr;</a>plugin installation</h2>
<p>Install the plugin from npm.</p>
<pre><code>npm install extract-text-webpack-plugin --save</code></pre><h2 id="general"><a class="anchor" href="#general">&rarr;</a>general</h2>
<p>To use the plugin you need to flag modules that should be moved into the css file with a special loader. After the compilation in the optimizing phase of webpack the plugin checks which modules are relevant for extraction (in the first mode only these that are in an initial chunk). These modules are compiled for node.js usage and executed to get the content. Additionally the modules are recompiled in the original bundle and replaced with an empty module.</p>
<p>A new asset is created for the extracted modules.</p>
<h2 id="styles-from-initial-chunks-into-separate-css-output-file"><a class="anchor" href="#styles-from-initial-chunks-into-separate-css-output-file">&rarr;</a>styles from initial chunks into separate css output file</h2>
<p>This examples shows multiple entry points, but also works with a single entry point.</p>
<pre><code><span class="comment">// webpack.config.js</span>
<span class="keyword">var</span> ExtractTextPlugin = require(<span class="string">"extract-text-webpack-plugin"</span>);
module.exports = {
    <span class="comment">// The standard entry point and output config</span>
    entry: {
        posts: <span class="string">"./posts"</span>,
        post: <span class="string">"./post"</span>,
        about: <span class="string">"./about"</span>
    },
    output: {
        filename: <span class="string">"[name].js"</span>,
        chunkFilename: <span class="string">"[id].js"</span>
    },
    module: {
        loaders: [
            <span class="comment">// Extract css files</span>
            {
                test: <span class="regexp">/\.css$/</span>,
                loader: ExtractTextPlugin.extract(<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>)
            },
            <span class="comment">// Optionally extract less files</span>
            <span class="comment">// or any other compile-to-css language</span>
            {
                test: <span class="regexp">/\.less$/</span>,
                loader: ExtractTextPlugin.extract(<span class="string">"style-loader"</span>, <span class="string">"css-loader!less-loader"</span>)
            }
            <span class="comment">// You could also use other loaders the same way. I. e. the autoprefixer-loader</span>
        ]
    },
    <span class="comment">// Use the plugin to specify the resulting filename (and add needed behavior to the compiler)</span>
    plugins: [
        <span class="keyword">new</span> ExtractTextPlugin(<span class="string">"[name].css"</span>)
    ]
}</code></pre><p>You’ll get these output files:</p>
<ul>
<li><code>posts.js</code> <code>posts.css</code></li>
<li><code>post.js</code> <code>post.css</code></li>
<li><code>about.js</code> <code>about.css</code></li>
<li><code><span class="number">1.</span>js</code> <code><span class="number">2.</span>js</code> (contain embedded styles)</li>
</ul>
<h2 id="all-styles-in-separate-css-output-file"><a class="anchor" href="#all-styles-in-separate-css-output-file">&rarr;</a>all styles in separate css output file</h2>
<p>To use the second mode you just need to set the option <code>allChunks</code> to <code><span class="literal">true</span></code>:</p>
<pre><code><span class="comment">// ...</span>
module.exports = {
    <span class="comment">// ...</span>
    plugins: [
        <span class="keyword">new</span> ExtractTextPlugin(<span class="string">"style.css"</span>, {
            allChunks: <span class="literal">true</span>
        })
    ]
}</code></pre><p>You’ll get these output files:</p>
<ul>
<li><code>posts.js</code> <code>posts.css</code></li>
<li><code>post.js</code> <code>post.css</code></li>
<li><code>about.js</code> <code>about.css</code></li>
<li><code><span class="number">1.</span>js</code> <code><span class="number">2.</span>js</code> (don’t contain embedded styles)</li>
</ul>
<h2 id="styles-in-commons-chunk"><a class="anchor" href="#styles-in-commons-chunk">&rarr;</a>styles in commons chunk</h2>
<p>You can use a separate css file in combination with the CommonsChunkPlugin. In this case a css file for the commons chunk is emitted too.</p>
<pre><code><span class="comment">// ...</span>
module.exports = {
    <span class="comment">// ...</span>
    plugins: [
        <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(<span class="string">"commons"</span>, <span class="string">"commons.js"</span>),
        <span class="keyword">new</span> ExtractTextPlugin(<span class="string">"[name].css"</span>)
    ]
}</code></pre><p>You’ll get these output files:</p>
<ul>
<li><code>commons.js</code> <code>commons.css</code></li>
<li><code>posts.js</code> <code>posts.css</code></li>
<li><code>post.js</code> <code>post.css</code></li>
<li><code>about.js</code> <code>about.css</code></li>
<li><code><span class="number">1.</span>js</code> <code><span class="number">2.</span>js</code> (contain embedded styles)</li>
</ul>
<p>or with <code>allChunks: <span class="literal">true</span></code></p>
<ul>
<li><code><span class="number">1.</span>js</code> <code><span class="number">2.</span>js</code> (don’t contain embedded styles)</li>
</ul>

						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div id="disqus_thread"></div>
						</div>
					</div>
				</div>

			</div>
		</div>
		<a href="https://github.com/webpack/webpack"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png" alt="Fork me on GitHub"></a>
	</body>
</html>